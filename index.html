<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOS 飛行訓練 (ES6 Modules)</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Segoe UI', sans-serif; user-select: none; }
        
        /* HUD */
        #ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; display: flex; flex-direction: column; justify-content: space-between; }
        #hud-top { padding: 20px; color: #fff; text-shadow: 1px 1px 2px black; font-size: 18px; font-weight: bold; background: linear-gradient(to bottom, rgba(0,0,0,0.6), transparent); display: flex; justify-content: space-between; }
        
        #center-info { text-align: center; }
        #level-title { color: #00ffcc; font-size: 28px; letter-spacing: 2px; }
        #instruction { color: #ffff00; font-size: 16px; margin-top: 5px; }
        #progress-bar-container { width: 300px; height: 10px; background: #333; margin: 10px auto; border-radius: 5px; overflow: hidden; border: 1px solid #555; }
        #progress-fill { height: 100%; width: 0%; background: #00ff00; transition: width 0.1s; }

        #msg-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; display: none; background: rgba(0,0,0,0.9); padding: 40px; border-radius: 15px; border: 2px solid #00ffcc; pointer-events: auto; }
        #msg-title { font-size: 40px; color: #00ffcc; margin-bottom: 10px; }
        button { padding: 10px 30px; font-size: 18px; cursor: pointer; background: #00ffcc; border: none; border-radius: 5px; font-weight: bold; margin-top: 20px; }
        
        #setup-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(10,10,10,0.95); z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>

    <div id="ui-layer" style="display:none;">
        <div id="hud-top">
            <div id="stat-thr">THR: 0%</div>
            <div id="center-info">
                <div id="level-title">LEVEL 1</div>
                <div id="instruction">任務目標載入中...</div>
                <div id="progress-bar-container"><div id="progress-fill"></div></div>
            </div>
            <div id="stat-time">0.0s</div>
        </div>
    </div>

    <div id="msg-overlay">
        <div id="msg-title">關卡完成!</div>
        <button id="btn-next">下一關</button>
    </div>

    <div id="setup-screen">
        <h1>LOS 飛行訓練系統</h1>
        <p style="color:#aaa">請連接搖桿，油門歸零</p>
        <button onclick="window.startGameApp()">開始訓練</button>
    </div>

    <script type="module" src="./src/main.js"></script>
</body>
</html>
